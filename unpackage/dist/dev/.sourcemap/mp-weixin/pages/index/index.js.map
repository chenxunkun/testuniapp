{"version":3,"file":"index.js","sources":["pages/index/index.vue","C:/Users/king/Desktop/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvaW5kZXgvaW5kZXgudnVl"],"sourcesContent":["<template>\r\n\t<view class=\"content\">\r\n\t\t<up-search placeholder=\"搜索景点\" bg-color=\"#e3e3e3\" v-model=\"keyword\"></up-search>\r\n\t\t<up-swiper v-if=\"bannerList.length\" :list=\"bannerList\" keyName=\"image\" showTitle radius=\"8\" :autoplay=\"true\"\r\n\t\t\theight=\"160\"></up-swiper>\r\n\t\t<up-notice-bar :text=\"'此仅为测试学习,非真实数据'\"></up-notice-bar>\r\n\t\t<view class=\"list\">\r\n\t\t\t<up-waterfall v-model=\"flowList\" ref=\"uWaterfallRef\" columns=\"2\">\r\n\t\t\t\t<template v-slot:left=\"{leftList}\">\r\n\t\t\t\t\t<view class=\"demo-warter\" v-for=\"(item,index) in leftList\" :key=\"index\">\r\n\t\t\t\t\t\t<up-lazy-load threshold=\"-450\" border-radius=\"10\" :image=\"item.img\"\r\n\t\t\t\t\t\t\t:index=\"index\"></up-lazy-load>\r\n\t\t\t\t\t\t<view class=\"demo-title\">\r\n\t\t\t\t\t\t\t{{item.title}}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"demo-price\">\r\n\t\t\t\t\t\t\t{{item.times}}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"demo-tag\">\r\n\t\t\t\t\t\t\t<view class=\"demo-tag-owner\">\r\n\t\t\t\t\t\t\t\t{{item.tag[0]}}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"demo-tag-text\">\r\n\t\t\t\t\t\t\t\t{{item.tag[1]}}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"isDot\" v-if=\"item.isDot\">\r\n\t\t\t\t\t\t\t{{item.isDot}}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</template>\r\n\t\t\t\t<!-- <template v-slot:right=\"{rightList}\">\r\n\t\t\t\t\t<view class=\"demo-warter\" v-for=\"(item,index) in rightList\" :key=\"index\">\r\n\t\t\t\t\t\t<up-lazy-load threshold=\"-450\" border-radius=\"10\" :image=\"item.img\"\r\n\t\t\t\t\t\t\t:index=\"index\"></up-lazy-load>\r\n\t\t\t\t\t\t<view class=\"demo-title\">\r\n\t\t\t\t\t\t\t{{item.title}}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"demo-price\">\r\n\t\t\t\t\t\t\t{{item.times}}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"demo-tag\">\r\n\t\t\t\t\t\t\t<view class=\"demo-tag-owner\">\r\n\t\t\t\t\t\t\t\t{{item.tag[0]}}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"demo-tag-text\">\r\n\t\t\t\t\t\t\t\t{{item.tag[1]}}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"isDot\" v-if=\"item.isDot\">\r\n\t\t\t\t\t\t\t{{item.isDot}}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</template> -->\r\n\t\t\t</up-waterfall>\r\n\t\t</view>\r\n\t\t<view v-if=\"showTopBtn\"  @click=\"Totop\" class=\"topClass\">\r\n\t\t\t<up-icon name=\"arrow-upward\" color=\"#fff\" size=\"28\"></up-icon>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script setup>\r\n\timport {\r\n\t\tgetBanner,\r\n\t\tgetHomeList\r\n\t} from '../../api/api.js'\r\n\timport {\r\n\t\tonLoad,\r\n\t\tonReachBottom,\r\n\t\tonPageScroll\r\n\t} from '@dcloudio/uni-app'\r\n\timport {\r\n\t\tref,\r\n\t\treactive\r\n\t} from 'vue'\r\n\tconst keyword = ref('')\r\n\t//轮播数据\r\n\tconst bannerList = ref([])\r\n\t//瀑布流数据\r\n\tconst flowList = ref([])\r\n\t//滚动是否显示\r\n\tconst showTopBtn=ref(0)\r\n\r\n\r\n\tonLoad(() => {\r\n\t\tgetBanner().then(res => {\r\n\t\t\tconsole.log(res, 'res')\r\n\t\t\tbannerList.value = res.bannerList\r\n\t\t})\r\n\t\tgetHomeList().then(res => {\r\n\t\t\tconsole.log(res, 'getHomeList')\r\n\t\t\tflowList.value = res\r\n\t\t})\r\n\t})\r\n\t\r\n\tconst Totop=()=>{\r\n\t\tuni.pageScrollTo({\r\n\t\t\tscrollTop:0,\r\n\t\t\tduration:1000\r\n\t\t})\r\n\t}\r\n\t\r\n\tonReachBottom(() => {\r\n\t\tconsole.log('触底')\r\n\t\tsetTimeout(()=>{\r\n\t\t\taddRandomData()\r\n\t\t},1000)\r\n\t\tconst addRandomData=()=>{\r\n\t\t\tfor(let i=0 ;i<10;i++){\r\n\t\t\t\tlet index=uni.$u.random(0,flowList.value.length-1)\r\n\t\t\t\tlet item=JSON.parse(JSON.stringify(flowList.value[index]))\r\n\t\t\t\titem.id=uni.$u.guid()\r\n\t\t\t\tflowList.value.push(item)\r\n\t\t\t}\r\n\t\t}\r\n\t})\r\n\tonPageScroll((e)=>{\r\n\t\tif(e.scrollTop>600){\r\n\t\t\tshowTopBtn.value=1\r\n\t\t}else{\r\n\t\t\tshowTopBtn.value=0\r\n\t\t}\r\n\t})\r\n</script>\r\n\r\n<style>\r\n\tpage{\r\n\t\tbackground-color: #f1f1f1;\r\n\t}\r\n</style>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.content {\r\n\t\tpadding: 20rpx 20rpx;\r\n\t}\r\n\r\n\t.list {\r\n\t\tmargin: 30rpx 0;\r\n\t\t\r\n\r\n\t\t.demo-warter {\r\n\t\t\tmargin: 10rpx 10rpx 10rpx 0;\r\n\t\t\tbackground-color: #fff;\r\n\t\t\tborder-radius: 16rpx;\r\n\t\t\tpadding: 16rpx;\r\n\t\t\tposition: relative;\r\n\t\t}\r\n\r\n\t\t.demo-title {\r\n\t\t\tfont-size: 30rpx;\r\n\t\t\tmargin-top: 10rpx;\r\n\t\t\tcolor: #303133;\r\n\t\t}\r\n\r\n\t\t.demo-price {\r\n\t\t\tfont-size: 24rpx;\r\n\t\t\tmargin-top: 10rpx;\r\n\t\t\tcolor: #777;\r\n\t\t}\r\n\r\n\t\t.demo-tag {\r\n\t\t\tdisplay: flex;\r\n\t\t\tmargin-top: 10rpx;\r\n\r\n\t\t\t.demo-tag-owner {\r\n\t\t\t\tborder: 1px solid rgb(252, 163, 129);\r\n\t\t\t\tcolor: #ffaa00;\r\n\t\t\t\tfont-size: 20rpx;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tpadding: 4rpx 14rpx;\r\n\t\t\t\tborder-radius: 50rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.demo-tag-text {\r\n\t\t\t\tborder: 1px solid #00aaff;\r\n\t\t\t\tcolor: #00aaff;\r\n\t\t\t\tmargin-left: 20rpx;\r\n\t\t\t\tfont-size: 20rpx;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tpadding: 4rpx 14rpx;\r\n\t\t\t\tborder-radius: 50rpx;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t.isDot {\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: 20rpx;\r\n\t\t\tright: 20rpx;\r\n\t\t\tfont-size: 24rpx;\r\n\t\t\tcolor: #fff;\r\n\t\t\tline-height: 32rpx;\r\n\t\t\tbackground-color: #ff0000;\r\n\t\t\ttext-align: center;\r\n\t\t\tborder-radius: 10rpx;\r\n\t\t\tpadding: 4rpx 10rpx;\r\n\t\t}\r\n\t}\r\n\t.topClass{\r\n\t\tposition: fixed;\r\n\t\tbottom: 120rpx;\r\n\t\tright: 30rpx;\r\n\t\tbackground-color: rgb(0,0,0,0.5);\r\n\t\tpadding: 20rpx;\r\n\t\twidth: 44rpx;\r\n\t\theight: 44rpx;\r\n\t\tborder-radius:40rpx;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t}\r\n</style>","import MiniProgramPage from 'F:/uniapp/test旅游项目/pages/index/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","onLoad","getBanner","uni","getHomeList","onReachBottom","onPageScroll"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AA+DA,UAAA,UAAAA,cAAA,IAAA,EAAA;AAeA,UAAA,aAAAA,cAAA,IAAA,EAAA;AAEA,UAAA,WAAAA,cAAA,IAAA,EAAA;AAEA,UAAA,aAAAA,cAAA,IAAA,CAAA;AAGAC,kBAAAA,OAAA,MAAA;AACAC,wBAAA,EAAA,KAAA,SAAA;AACAC,sBAAAA,MAAA,MAAA,OAAA,+BAAA,KAAA,KAAA;AACA,mBAAA,QAAA,IAAA;AAAA,MACA,CAAA;AACAC,0BAAA,EAAA,KAAA,SAAA;AACAD,sBAAAA,MAAA,MAAA,OAAA,+BAAA,KAAA,aAAA;AACA,iBAAA,QAAA;AAAA,MACA,CAAA;AAAA,IACA,CAAA;AAEA,UAAA,QAAA,MAAA;AACAA,oBAAAA,MAAA,aAAA;AAAA,QACA,WAAA;AAAA,QACA,UAAA;AAAA,MACA,CAAA;AAAA,IACA;AAEAE,kBAAAA,cAAA,MAAA;AACAF,oBAAAA,MAAA,MAAA,OAAA,gCAAA,IAAA;AACA,iBAAA,MAAA;AACA,sBAAA;AAAA,MACA,GAAA,GAAA;AACA,YAAA,gBAAA,MAAA;AACA,iBAAA,IAAA,GAAA,IAAA,IAAA,KAAA;AACA,cAAA,QAAAA,oBAAA,GAAA,OAAA,GAAA,SAAA,MAAA,SAAA,CAAA;AACA,cAAA,OAAA,KAAA,MAAA,KAAA,UAAA,SAAA,MAAA,KAAA,CAAA,CAAA;AACA,eAAA,KAAAA,oBAAA,GAAA,KAAA;AACA,mBAAA,MAAA,KAAA,IAAA;AAAA,QACA;AAAA,MACA;AAAA,IACA,CAAA;AACAG,kBAAA,aAAA,CAAA,MAAA;AACA,UAAA,EAAA,YAAA,KAAA;AACA,mBAAA,QAAA;AAAA,MACA,OAAA;AACA,mBAAA,QAAA;AAAA,MACA;AAAA,IACA,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1HA,GAAG,WAAW,eAAe;"}